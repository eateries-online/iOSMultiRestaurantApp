import{_ as x,l as _,t as l,P as D,Q as k,m,n as u,p as o,S as a,R as i,f as r,X as h,F as f,U as S,V as A,aw as b}from"./index.30bcee2d.js";import{Q as P}from"./QInnerLoading.1dad5a80.js";import{Q as v}from"./QImg.4e876ad6.js";import{u as w}from"./MenuStore.d5ae1ce3.js";const C={name:"FavouriteItems",props:["is_done"],components:{FavsItem:_(()=>l(()=>import("./FavsItem.7b70b004.js"),["assets/FavsItem.7b70b004.js","assets/index.30bcee2d.js","assets/index.aba08127.css"])),ItemDetails:_(()=>l(()=>import("./ItemDetails.0c7285b6.js"),["assets/ItemDetails.0c7285b6.js","assets/index.30bcee2d.js","assets/index.aba08127.css","assets/QCircularProgress.f57ffd5b.js","assets/format.2bc25e5f.js","assets/QImg.4e876ad6.js","assets/QChip.9a5e9391.js","assets/QBtnToggle.c946cab5.js","assets/QBtnGroup.d73b976b.js","assets/QSelect.a5140148.js","assets/QItemLabel.b935a34d.js","assets/QMenu.3f2e45b1.js","assets/selection.c88e3f6c.js","assets/rtl.b51694b1.js","assets/QSpace.274cde1f.js","assets/CartStore.fe06611f.js","assets/FavoriteStore.20024f5d.js","assets/DeliverySched.7aa22819.js"])),ItemDetailsCheckbox:_(()=>l(()=>import("./ItemDetailsCheckbox.764a5a53.js"),["assets/ItemDetailsCheckbox.764a5a53.js","assets/index.30bcee2d.js","assets/index.aba08127.css","assets/QCircularProgress.f57ffd5b.js","assets/format.2bc25e5f.js","assets/QImg.4e876ad6.js","assets/QItemLabel.b935a34d.js","assets/QList.d8ad41f7.js","assets/QSelect.a5140148.js","assets/QChip.9a5e9391.js","assets/QMenu.3f2e45b1.js","assets/selection.c88e3f6c.js","assets/rtl.b51694b1.js","assets/QSpace.274cde1f.js","assets/QBtnGroup.d73b976b.js","assets/ClosePopup.da855ff7.js","assets/CartStore.fe06611f.js","assets/FavoriteStore.20024f5d.js","assets/DeliverySched.7aa22819.js"]))},data(){return{data:[],data_items:[],loading:!0,slug:"",money_config:[]}},setup(e){const n=w(),g=D(),d=k();return{MenuStore:n,DataStore:g,DataStorePersisted:d}},mounted(){this.getSaveItems()},computed:{hasData(){return this.data.length>0}},watch:{is_done(e,n){this.getSaveItems()}},methods:{getSaveItems(){m.empty(this.is_done)&&(this.loading=!0),m.fetchDataByTokenPost("getSaveItems","currency_code="+this.DataStorePersisted.use_currency_code).then(e=>{this.data=e.details.data,this.data_items=e.details.items,this.money_config=e.details.money_config}).catch(e=>{this.data=[],this.data_items=[]}).then(e=>{this.loading=!1,m.empty(this.is_done)||this.is_done()})},afterSavefav(e,n){e.save_item=n},onClickitem(e){this.slug=e.slug,this.DataStore.addons_use_checkbox?this.$refs.refItem2.showItem2(e,e.slug):this.$refs.refItem.showItem2(e,e.slug)},afterAdditems(){this.$emit("afterAdditems")}}},q={key:0},E={class:"fit q-pa-xl"},F={key:1,class:"flex flex-center q-pt-xl q-pb-xl"},V={class:"text-h5 text-weight-bold line-normal"},L={class:"text-grey font12"},Q={key:2,class:"row items-start q-col-gutter-x-sm q-mb-sm"},B={key:0,class:"col-6"},R={class:"relative-position"},T={class:"absolute-bottom-right q-pa-sm"},z={class:"q-pt-sm q-pb-md"},N={class:"row items-center"},O={class:"col text-subtitle2 line-normal ellipsis"},M={class:"col-3 text-right"};function U(e,n,g,d,t,c){const p=u("FavsItem"),y=u("ItemDetails"),I=u("ItemDetailsCheckbox");return o(),a(f,null,[t.loading?(o(),a("div",q,[i("div",E,[r(P,{showing:!0,color:"primary",size:"md","label-class":"dark"})])])):!t.loading&&!c.hasData?(o(),a("div",F,[r(v,{src:"cuttery.png",fit:"fill","spinner-color":"primary",style:{height:"160px","max-width":"150px"}}),i("div",V,h(e.$t("You don't have any save items here!")),1),i("p",L,h(e.$t("Let's change that!")),1)])):(o(),a("div",Q,[(o(!0),a(f,null,S(t.data,s=>(o(),a(f,{key:s.item_id},[t.data_items[s.item_id]?(o(),a("div",B,[i("div",R,[r(v,{src:t.data_items[s.item_id].url_image,style:{"max-width":"100%",height:"100px"},"spinner-color":"primary","spinner-size":"sm","placeholder-src":"placeholder.png",class:"radius10"},null,8,["src"]),i("div",T,[r(A,{round:"",color:"dark",icon:"add",unelevated:"",size:"sm",onClick:X=>c.onClickitem({slug:s.restaurant_slug,cat_id:s.cat_id,item_uuid:t.data_items[s.item_id].item_uuid})},null,8,["onClick"])])]),i("div",z,[i("div",N,[i("div",O,h(t.data_items[s.item_id].item_name),1),i("div",M,[r(p,{ref_for:!0,ref:"favs",data:s,layout:3,item_token:t.data_items[s.item_id].item_uuid,cat_id:s.cat_id,active:s.save_item,onAfterSavefav:c.afterSavefav},null,8,["data","item_token","cat_id","active","onAfterSavefav"])])])])])):b("",!0)],64))),128))])),r(y,{ref:"refItem",slug:t.slug,money_config:t.money_config,currency_code:d.DataStorePersisted.use_currency_code,onAfterAdditems:c.afterAdditems},null,8,["slug","money_config","currency_code","onAfterAdditems"]),r(I,{ref:"refItem2",slug:t.slug,money_config:t.money_config,currency_code:d.DataStorePersisted.use_currency_code,onAfterAdditems:c.afterAdditems},null,8,["slug","money_config","currency_code","onAfterAdditems"])],64)}var J=x(C,[["render",U]]);export{J as default};
