import{_ as f,l as u,m as s,as as h,n as p,p as g,S as _,f as a,s as t,a3 as r,F as q,V as d,a2 as k,X as l,a4 as $,a5 as y,R as m,t as b}from"./index.30bcee2d.js";import{Q as w}from"./QToolbarTitle.80059bbe.js";import{Q as v}from"./QToolbar.8b90f7d3.js";import{Q}from"./QHeader.b4bada8e.js";import{Q as C}from"./QSpace.274cde1f.js";import{Q as V}from"./QFooter.f2cd3c2a.js";import{Q as A}from"./QPage.f04658ef.js";import"./QResizeObserver.3c3b4a7a.js";const B={name:"DeleteAccount",components:{StepsVerification:u(()=>b(()=>import("./StepsVerification.36fa72d5.js"),["assets/StepsVerification.36fa72d5.js","assets/QSpace.274cde1f.js","assets/index.30bcee2d.js","assets/index.aba08127.css","assets/QToolbar.8b90f7d3.js","assets/QForm.ab8a2cd2.js","assets/QInnerLoading.1dad5a80.js"]))},data(){return{loading:!1,sent_message:""}},methods:{RequestEmailCode(){this.loading=!0,s.RequestEmailCode().then(e=>{this.sent_message=e.msg,this.show_modal=!1,this.$refs.steps_verification.show_modal=!0}).catch(e=>{s.notify("dark",e,"error",this.$q)}).then(e=>{this.loading=!1})},afterVerifycode(e){this.loading=!0,s.showLoadingBox("",this.$q),s.fetchDataByTokenPost("deleteAccount","code="+e).then(o=>{this.$refs.steps_verification.show_modal=!1,h.logout(),this.$router.push("/home")}).catch(o=>{s.notify("dark",o,"error",this.$q)}).then(o=>{this.loading=!1,s.hideLoadingBox(this.$q)})}}},D={class:"text-weight-bold q-ma-none"},S={class:"text-weight-medium q-ma-none"};function E(e,o,T,P,i,n){const c=p("StepsVerification");return g(),_(q,null,[a(Q,{reveal:"","reveal-offset":"50",class:r({"bg-mydark text-white":e.$q.dark.mode,"bg-grey-1 text-dark":!e.$q.dark.mode})},{default:t(()=>[a(v,null,{default:t(()=>[a(d,{onClick:o[0]||(o[0]=R=>e.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",class:"q-mr-sm",color:e.$q.dark.mode?"white":"dark"},null,8,["color"]),a(w,{class:"text-weight-bold"},{default:t(()=>[k(l(e.$t("Delete Account")),1)]),_:1})]),_:1})]),_:1},8,["class"]),a(A,{padding:"",class:r(["q-pl-md q-pr-md row items-stretch",{"bg-grey-dark":e.$q.dark.mode,"bg-grey-1":!e.$q.dark.mode}])},{default:t(()=>[a($,{flat:"",class:r(["col-12",{"bg-mydark ":e.$q.dark.mode,"bg-white ":!e.$q.dark.mode}])},{default:t(()=>[a(y,null,{default:t(()=>[m("h5",D,l(e.$t("You are requesting to have your account deleted and personal information removed"))+". ",1),a(C,{class:"q-pa-sm"}),m("p",S,l(e.$t("You will permanently lose all your orders, reviews,favorites and profile information, there is no turning back"))+". ",1)]),_:1})]),_:1},8,["class"]),a(V,{reveal:"",class:"bg-grey-1 q-pl-md q-pr-md q-pb-sm q-pt-sm text-dark"},{default:t(()=>[a(d,{label:e.$t("Confirm Deletion"),unelevated:"","no-caps":"",color:"primary text-white",class:"full-width text-weight-bold",size:"lg",loading:i.loading,onClick:n.RequestEmailCode},null,8,["label","loading","onClick"])]),_:1}),a(c,{ref:"steps_verification",sent_message:i.sent_message,onAfterVerifycode:n.afterVerifycode},null,8,["sent_message","onAfterVerifycode"])]),_:1},8,["class"])],64)}var O=f(B,[["render",E]]);export{O as default};
