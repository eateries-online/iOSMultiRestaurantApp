import{Q as w}from"./QToolbarTitle.80059bbe.js";import{Q}from"./QSpace.274cde1f.js";import{_ as S,m,as as y,p as r,q as i,s as a,f as e,a3 as C,a2 as n,X as d,V as h,a5 as k,S as b,U as v,a8 as V,aB as x,a9 as c,ap as g,ab as q,F as I,R as A,a4 as B,ax as D}from"./index.30bcee2d.js";import{Q as L}from"./QToolbar.8b90f7d3.js";import{Q as T}from"./QInnerLoading.1dad5a80.js";import{Q as u}from"./QItemLabel.b935a34d.js";import{Q as z}from"./QList.d8ad41f7.js";import{u as N}from"./ClientStore.5dffc3bb.js";const P={name:"ClientAddress",props:["redirect"],data(){return{show_modal:!1,loading:!1,data:[],place_id:m.getStorage("place_id")}},setup(){return{ClientStore:N()}},methods:{onShow(){y.authenticated()&&this.ClientStore.getAddress()},showModal(s){this.show_modal=s},setPlaceID(s){this.place_id=s.place_id,m.setStorage("place_data",s),m.setStorage("place_id",s.place_id),this.show_modal=!1,this.$emit("afterSetplaceid")}}};function U(s,l,F,p,o,f){return r(),i(D,{modelValue:o.show_modal,"onUpdate:modelValue":l[2]||(l[2]=t=>o.show_modal=t),position:"bottom",onShow:f.onShow},{default:a(()=>[e(B,null,{default:a(()=>[e(L,{class:"text-primary top-toolbar q-pl-md",dense:""},{default:a(()=>[e(w,{class:C(["text-weight-bold",{"text-white":s.$q.dark.mode,"text-dark":!s.$q.dark.mode}])},{default:a(()=>[n(d(s.$t("Address")),1)]),_:1},8,["class"]),e(Q),e(h,{onClick:l[0]||(l[0]=t=>o.show_modal=!1),color:"white",square:"",unelevated:"","text-color":"grey",icon:"las la-times",dense:"","no-caps":"",size:"sm",class:"border-grey radius8"})]),_:1}),e(k,{style:{"max-height":"50vh"},class:"scroll"},{default:a(()=>[e(T,{showing:p.ClientStore.loading,color:"primary"},null,8,["showing"]),e(z,null,{default:a(()=>[(r(!0),b(I,null,v(p.ClientStore.data,t=>(r(),i(V,{key:t,onClick:x(_=>f.setPlaceID(t),["stop"]),tag:"label"},{default:a(()=>[e(c,{avatar:"",class:"qlist-item-min2"},{default:a(()=>[e(g,{name:"las la-map-marker",color:"grey-5"})]),_:1}),e(c,null,{default:a(()=>[t.address.address1?(r(),i(u,{key:0,lines:"2"},{default:a(()=>[n(d(t.address.address1),1)]),_:2},1024)):(r(),i(u,{key:1,lines:"2"},{default:a(()=>[n(d(t.address.address2),1)]),_:2},1024)),e(u,{lines:"2",caption:"",class:"font11"},{default:a(()=>[n(d(t.address.formatted_address),1)]),_:2},1024)]),_:2},1024),e(c,{side:""},{default:a(()=>[e(q,{modelValue:o.place_id,"onUpdate:modelValue":l[1]||(l[1]=_=>o.place_id=_),val:t.place_id,color:"secondary"},null,8,["modelValue","val"])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),e(h,{class:"row items-start full-width border-grey-top",unelevated:"","no-caps":"","text-color":"primary",size:"lg",to:{name:"map",query:{url:this.redirect}}},{default:a(()=>[e(g,{name:"o_add",color:"primary",class:"q-mr-md"}),A("div",null,d(s.$t("Add a new address")),1)]),_:1},8,["to"])]),_:1})]),_:1},8,["modelValue","onShow"])}var J=S(P,[["render",U]]);export{J as default};
