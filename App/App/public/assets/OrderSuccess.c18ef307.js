import{_ as T,m as w,p as r,q as y,s as l,f as i,V as b,a2 as c,X as e,a3 as g,S as a,R as s,F as n,aw as m,a9 as u,U as k,a8 as S}from"./index.30bcee2d.js";import{Q as B}from"./QToolbarTitle.80059bbe.js";import{Q as I}from"./QToolbar.8b90f7d3.js";import{Q as O}from"./QHeader.b4bada8e.js";import{Q as z}from"./QInnerLoading.1dad5a80.js";import{Q as v}from"./QSpace.274cde1f.js";import{Q as x}from"./QImg.4e876ad6.js";import{Q as p}from"./QItemLabel.b935a34d.js";import{Q as L}from"./QBadge.787b59b6.js";import{Q}from"./QList.d8ad41f7.js";import{Q as R}from"./QExpansionItem.7f31ae3f.js";import{Q as V}from"./QFooter.f2cd3c2a.js";import{Q as j}from"./QPage.f04658ef.js";import{Q as E}from"./QPullToRefresh.e8308158.js";import"./QResizeObserver.3c3b4a7a.js";import"./QSlideTransition.3af94411.js";import"./touch.3df10340.js";import"./selection.c88e3f6c.js";import"./format.2bc25e5f.js";const N={name:"OrderSuccess",data(){return{order_uuid:"",loading:!0,data:[],order_items:[],order_info:[],merchant:[],estimation:[],charge_type:"",payload:["merchant_info","items","order_info","estimation","charge_type"]}},created(){this.order_uuid=this.$route.query.order_uuid,this.orderDetails()},computed:{hasData(){return Object.keys(this.data).length>0}},methods:{refresh(t){this.orderDetails(t)},orderDetails(t){this.loading=!0,w.fetchDataByToken("orderDetails",{order_uuid:this.order_uuid,payload:this.payload}).then(_=>{this.data=_.details.data,this.order_items=_.details.data.items,this.order_info=_.details.data.order.order_info,this.merchant=_.details.data.merchant,this.estimation=_.details.data.estimation,this.charge_type=_.details.data.charge_type}).catch(_=>{this.order_items=[],this.order_info=[],this.merchant=[],this.estimation=[]}).then(_=>{this.loading=!1,w.empty(t)||t()})},estimatedLabel(t){return t=="pickup"?this.$t("Estimated Pickup Time"):t=="dinein"?this.$t("Estimated Dinein Time"):this.$t("Estimated Delivery Time")}}},P={key:1,class:"text-center full-width"},C={class:"text-h5 text-weight-bold"},F={class:"text-grey font12"},A={class:"text-center q-mb-md"},H={class:"text-grey text-weight-600"},U=s("div",{class:"border-grey-top"},null,-1),X={class:"text-h5 text-weight-bold"},Y={class:"row items-start justify-between"},G={class:"text-grey"},J={class:"text-weight-bold"},K={class:"row items-start justify-between"},M={class:"text-grey"},W={class:"text-weight-bold"},Z={class:"row items-start justify-between"},$={class:"text-grey col-2"},ee={class:"col-8 text-right"},te={class:"row items-start justify-between"},re={class:"text-grey col text-weight-bold"},se={class:"col text-right text-weight-bold"},oe={class:"text-weight-bold"},ie={class:"text-grey font13 q-ml-sm"},ae=c(" )"),de={class:"no-margin"},le={class:"m-0 text-grey"},ne={key:0,class:"no-margin"},ce={key:1,class:"no-margin"},_e={key:2,class:"no-margin"},me=c(", "),he={key:0,class:"no-margin"},ue={key:1,class:"no-margin"};function pe(t,_,fe,ye,o,h){return r(),y(E,{onRefresh:h.refresh},{default:l(()=>[i(O,{reveal:"","reveal-offset":"50",class:g({"bg-mydark text-white":t.$q.dark.mode,"bg-white text-dark":!t.$q.dark.mode})},{default:l(()=>[i(I,null,{default:l(()=>[i(b,{flat:"",round:"",dense:"",icon:"las la-angle-left",class:"q-mr-sm",color:t.$q.dark.mode?"white":"dark",to:"/home",replace:"true"},null,8,["color"]),i(B,{class:"text-weight-bold"},{default:l(()=>[c(e(t.$t("Your Order Successfully"))+"!",1)]),_:1})]),_:1})]),_:1},8,["class"]),i(j,{padding:"",class:g(["q-pl-md q-pr-md",{"flex flex-center":!h.hasData&&!o.loading}])},{default:l(()=>[o.loading?(r(),y(z,{key:0,showing:!0,color:"primary",size:"md","label-class":"dark",class:"transparent"})):!o.loading&&!h.hasData?(r(),a("div",P,[s("div",C,e(t.$t("No results data")),1),s("p",F,e(t.$t("Sorry we cannot find what your looking for.")),1)])):(r(),a(n,{key:2},[s("div",A,[s("div",H,e(h.estimatedLabel(o.order_info.service_code)),1),s("div",{class:g(["text-weight-bold text-h5",{"text-white":t.$q.dark.mode,"text-dark":!t.$q.dark.mode}])},[o.order_info.whento_deliver=="now"?(r(),a(n,{key:0},[o.estimation[o.order_info.service_code]?(r(),a(n,{key:0},[o.estimation[o.order_info.service_code][o.charge_type]?(r(),a(n,{key:0},[c(e(o.estimation[o.order_info.service_code][o.charge_type].estimation)+" "+e(t.$t("mins")),1)],64)):m("",!0)],64)):m("",!0)],64)):(r(),a(n,{key:1},[c(e(o.order_info.delivery_date)+" "+e(o.order_info.delivery_time),1)],64))],2),i(v,{class:"q-pa-sm"}),i(x,{src:"onboarding-3.png","spinner-color":"primary",style:{"max-width":"100%",height:"150px"},fit:"contain"})]),U,s("div",X,e(t.$t("Order Details")),1),s("div",Y,[s("div",G,e(t.$t("Order #")),1),s("div",J,e(o.order_info.order_id),1)]),s("div",K,[s("div",M,e(t.$t("Order from")),1),s("div",W,e(o.merchant.restaurant_name),1)]),s("div",Z,[s("div",$,e(t.$t("Delivery")),1),s("div",ee,e(o.order_info.delivery_address),1)]),s("div",te,[s("div",re,e(t.$t("Total")),1),s("div",se,e(o.order_info.total_from_used_currency_to_based_currency_pretty),1)]),i(v,{class:"q-pa-sm"}),i(Q,{class:"qlist-no-padding border-grey-top border-bottom q-mb-md"},{default:l(()=>[i(R,{"expand-separator":""},{header:l(()=>[i(u,null,{default:l(()=>[i(p,null,{default:l(()=>[s("span",oe,e(t.$t("View Details")),1),s("span",ie,[c("("+e(o.order_items.length)+" ",1),o.order_items.length>2?(r(),a(n,{key:0},[c(e(t.$t("items")),1)],64)):(r(),a(n,{key:1},[c(e(t.$t("item")),1)],64)),ae])]),_:1})]),_:1})]),default:l(()=>[i(Q,null,{default:l(()=>[(r(!0),a(n,null,k(o.order_items,d=>(r(),y(S,{key:d},{default:l(()=>[i(u,{avatar:"",top:""},{default:l(()=>[i(x,{src:d.url_image,lazy:"",fit:"cover",style:{height:"50px",width:"50px"},class:"rounded-borders"},null,8,["src"])]),_:2},1024),i(u,null,{default:l(()=>[i(p,{class:"text-weight-bold q-mb-xs font12"},{default:l(()=>[s("p",de,[c(e(d.qty)+" x "+e(d.item_name)+" ",1),d.price.size_name!=""?(r(),a(n,{key:0},[c(" ("+e(d.price.size_name)+") ",1)],64)):m("",!0),d.item_changes=="replacement"?(r(),a(n,{key:1},[s("div",le,e(t.$t("Replace"))+' "'+e(d.item_name_replace)+'" ',1),i(L,{color:"primary","text-color":"white",label:"Replacement"})],64)):m("",!0)])]),_:2},1024),i(p,{caption:"",class:"text-weight-medium font12"},{default:l(()=>[d.price.discount>0?(r(),a("p",ne,[s("del",null,e(d.price.pretty_price),1),c(" "+e(d.price.pretty_price_after_discount),1)])):(r(),a("p",ce,e(d.price.pretty_price),1)),d.special_instructions!=""?(r(),a("p",_e,e(d.special_instructions),1)):m("",!0),d.attributes!=""?(r(!0),a(n,{key:3},k(d.attributes,f=>(r(),a("p",{key:f,class:"no-margin"},[(r(!0),a(n,null,k(f,(q,D)=>(r(),a(n,null,[c(e(q),1),D<f.length-1?(r(),a(n,{key:0},[me],64)):m("",!0)],64))),256))]))),128)):m("",!0)]),_:2},1024)]),_:2},1024),i(u,{side:"",top:""},{default:l(()=>[i(p,{caption:"",class:"text-weight-bold font12"},{default:l(()=>[d.price.discount<=0?(r(),a("p",he,e(d.price.pretty_total),1)):(r(),a("p",ue,e(d.price.pretty_total_after_discount),1))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),i(V,{reveal:"",class:"q-pl-md q-pr-md q-pb-sm q-pt-sm text-dark bg-white"},{default:l(()=>[i(b,{unelevated:"","no-caps":"",size:"lg",label:t.$t("Track your order"),color:"primary","text-color":"white",class:"full-width",to:{path:"/account/trackorder",query:{order_uuid:o.order_info.order_uuid}}},null,8,["label","to"])]),_:1})],64))]),_:1},8,["class"])]),_:1},8,["onRefresh"])}var Ee=T(N,[["render",pe]]);export{Ee as default};
