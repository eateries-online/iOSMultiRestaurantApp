import{H as X,m as d,by as K,_ as Z,l as y,P as $,Q as ee,n as u,p as o,S as c,f as a,s as r,q as m,a3 as A,aw as _,F as S,V as v,a2 as f,X as n,R as i,ap as k,a8 as P,a9 as p,aa as q,bx as te,U as I,t as g,aV as ae}from"./index.30bcee2d.js";import{Q as re}from"./QToolbarTitle.80059bbe.js";import{Q as oe}from"./QToolbar.8b90f7d3.js";import{Q as ne}from"./QHeader.b4bada8e.js";import{Q as z}from"./QInnerLoading.1dad5a80.js";import{Q as L}from"./QImg.4e876ad6.js";import{Q as w}from"./QItemLabel.b935a34d.js";import{Q as D}from"./QList.d8ad41f7.js";import{Q as se}from"./QExpansionItem.7f31ae3f.js";import{Q as x}from"./QSkeleton.8077f081.js";import{Q as le}from"./QSpace.274cde1f.js";import{Q as ie}from"./QPage.f04658ef.js";import{Q as de}from"./QPullToRefresh.e8308158.js";import{Q as ce}from"./QFooter.f2cd3c2a.js";import{u as me}from"./CartStore.fe06611f.js";import{u as _e}from"./PromoStore.ec442c4e.js";import{u as pe}from"./PaymentStore.34607be8.js";import{u as he}from"./DeliverySched.7aa22819.js";import"./QResizeObserver.3c3b4a7a.js";import"./QSlideTransition.3af94411.js";import"./touch.3df10340.js";import"./selection.c88e3f6c.js";import"./format.2bc25e5f.js";const fe=X("maps_store",{state:()=>({loading:!1,maps_config:[],marker_position:[]}),actions:{getMapconfig(){this.loading=!0,d.getMapconfig().then(t=>{this.maps_config=K(t.details),this.marker_position={lat:parseFloat(this.maps_config.default_lat),lng:parseFloat(this.maps_config.default_lng)}}).catch(t=>{}).then(t=>{this.loading=!1})}}}),ue={name:"CheckoutPage",components:{CartDetails:y(()=>g(()=>import("./CartDetails.0e36a007.js"),["assets/CartDetails.0e36a007.js","assets/index.30bcee2d.js","assets/index.aba08127.css","assets/QSkeleton.8077f081.js","assets/QList.d8ad41f7.js","assets/QImg.4e876ad6.js","assets/QItemLabel.b935a34d.js","assets/QSlideItem.4ba6d61d.js","assets/QPullToRefresh.e8308158.js","assets/touch.3df10340.js","assets/selection.c88e3f6c.js","assets/format.2bc25e5f.js","assets/use-cache.b0833c75.js","assets/CartStore.fe06611f.js"])),ClientAddress:y(()=>g(()=>import("./ClientAddress.3a499823.js"),["assets/ClientAddress.3a499823.js","assets/QToolbarTitle.80059bbe.js","assets/index.30bcee2d.js","assets/index.aba08127.css","assets/QSpace.274cde1f.js","assets/QToolbar.8b90f7d3.js","assets/QInnerLoading.1dad5a80.js","assets/QItemLabel.b935a34d.js","assets/QList.d8ad41f7.js","assets/ClientStore.5dffc3bb.js"])),ChangePhone:y(()=>g(()=>import("./ChangePhone.f7019131.js"),["assets/ChangePhone.f7019131.js","assets/index.30bcee2d.js","assets/index.aba08127.css","assets/QToolbarTitle.80059bbe.js","assets/QSpace.274cde1f.js","assets/QToolbar.8b90f7d3.js","assets/QSelect.a5140148.js","assets/QChip.9a5e9391.js","assets/QItemLabel.b935a34d.js","assets/QMenu.3f2e45b1.js","assets/selection.c88e3f6c.js","assets/rtl.b51694b1.js","assets/format.2bc25e5f.js","assets/QForm.ab8a2cd2.js"])),DeliverySched:y(()=>g(()=>import("./DeliverySched.d1de5213.js"),["assets/DeliverySched.d1de5213.js","assets/QBtnToggle.c946cab5.js","assets/index.30bcee2d.js","assets/index.aba08127.css","assets/QBtnGroup.d73b976b.js","assets/QSelect.a5140148.js","assets/QChip.9a5e9391.js","assets/QItemLabel.b935a34d.js","assets/QMenu.3f2e45b1.js","assets/selection.c88e3f6c.js","assets/rtl.b51694b1.js","assets/format.2bc25e5f.js","assets/DeliverySched.7aa22819.js"])),PromoList:y(()=>g(()=>import("./PromoList.8695a3a4.js"),["assets/PromoList.8695a3a4.js","assets/QToolbarTitle.80059bbe.js","assets/index.30bcee2d.js","assets/index.aba08127.css","assets/QSpace.274cde1f.js","assets/QToolbar.8b90f7d3.js","assets/QForm.ab8a2cd2.js","assets/QItemLabel.b935a34d.js","assets/QList.d8ad41f7.js","assets/PromoStore.ec442c4e.js"])),TipsList:y(()=>g(()=>import("./TipsList.5e29cbcc.js"),["assets/TipsList.5e29cbcc.js","assets/QBtnToggle.c946cab5.js","assets/index.30bcee2d.js","assets/index.aba08127.css","assets/QBtnGroup.d73b976b.js","assets/QToolbarTitle.80059bbe.js","assets/QSpace.274cde1f.js","assets/QToolbar.8b90f7d3.js","assets/QForm.ab8a2cd2.js"])),CheckoutBooking:y(()=>g(()=>import("./CheckoutBooking.41e4aadf.js"),["assets/CheckoutBooking.41e4aadf.js","assets/QCircularProgress.f57ffd5b.js","assets/index.30bcee2d.js","assets/index.aba08127.css","assets/format.2bc25e5f.js","assets/QBtnGroup.d73b976b.js","assets/QSelect.a5140148.js","assets/QChip.9a5e9391.js","assets/QItemLabel.b935a34d.js","assets/QMenu.3f2e45b1.js","assets/selection.c88e3f6c.js","assets/rtl.b51694b1.js","assets/MenuStore.d5ae1ce3.js"])),PaymentListSaved:y(()=>g(()=>import("./PaymentListSaved.9bd348b2.js"),["assets/PaymentListSaved.9bd348b2.js","assets/index.30bcee2d.js","assets/index.aba08127.css","assets/QImg.4e876ad6.js","assets/QItemLabel.b935a34d.js","assets/QList.d8ad41f7.js","assets/PaymentStore.34607be8.js"])),PointsCart:y(()=>g(()=>import("./PointsCart.e40284e9.js"),["assets/PointsCart.e40284e9.js","assets/QInnerLoading.1dad5a80.js","assets/index.30bcee2d.js","assets/index.aba08127.css","assets/QItemLabel.b935a34d.js","assets/QList.d8ad41f7.js","assets/QToolbarTitle.80059bbe.js","assets/QSpace.274cde1f.js","assets/QToolbar.8b90f7d3.js","assets/QLinearProgress.c25688c9.js","assets/QTab.9fbd659e.js","assets/QTabs.3876ad2a.js","assets/QResizeObserver.3c3b4a7a.js","assets/rtl.b51694b1.js","assets/QForm.ab8a2cd2.js"])),StripeComponents:y(()=>g(()=>import("./StripeComponents.582e0bad.js"),["assets/StripeComponents.582e0bad.js","assets/QSpace.274cde1f.js","assets/index.30bcee2d.js","assets/index.aba08127.css","assets/QToolbar.8b90f7d3.js","assets/QInnerLoading.1dad5a80.js","assets/QForm.ab8a2cd2.js"])),PaypalComponents:y(()=>g(()=>import("./PaypalComponents.b2c1158d.js"),["assets/PaypalComponents.b2c1158d.js","assets/QSpace.274cde1f.js","assets/index.30bcee2d.js","assets/index.aba08127.css","assets/QToolbar.8b90f7d3.js","assets/ClosePopup.da855ff7.js","assets/index.4f152a18.js"])),RazorpayComponents:y(()=>g(()=>import("./RazorpayComponents.1578bdce.js"),["assets/RazorpayComponents.1578bdce.js","assets/QSpace.274cde1f.js","assets/index.30bcee2d.js","assets/index.aba08127.css","assets/QToolbar.8b90f7d3.js","assets/index.4f152a18.js"])),MercadopagoComponents:y(()=>g(()=>import("./MercadopagoComponents.f473bc51.js"),["assets/MercadopagoComponents.f473bc51.js","assets/QSpace.274cde1f.js","assets/index.30bcee2d.js","assets/index.aba08127.css","assets/QToolbar.8b90f7d3.js","assets/QSelect.a5140148.js","assets/QChip.9a5e9391.js","assets/QItemLabel.b935a34d.js","assets/QMenu.3f2e45b1.js","assets/selection.c88e3f6c.js","assets/rtl.b51694b1.js","assets/format.2bc25e5f.js","assets/QForm.ab8a2cd2.js","assets/ClosePopup.da855ff7.js","assets/index.4f152a18.js"])),ComponentsRealtime:y(()=>g(()=>import("./ComponentsRealtime.082a6132.js"),["assets/ComponentsRealtime.082a6132.js","assets/index.4f152a18.js","assets/index.30bcee2d.js","assets/index.aba08127.css"])),WalletComponents:y(()=>g(()=>import("./WalletComponents.053ed415.js"),["assets/WalletComponents.053ed415.js","assets/index.30bcee2d.js","assets/index.aba08127.css","assets/QItemLabel.b935a34d.js","assets/QList.d8ad41f7.js","assets/QInnerLoading.1dad5a80.js","assets/CartStore.fe06611f.js"]))},setup(){const t=me(),s=_e(),b=fe(),e=$(),C=pe(),l=he(),R=ee();return{CartStore:t,PromoStore:s,MapsStore:b,DataStore:e,PaymentStore:C,DeliveryschedStore:l,DataStorePersisted:R}},data(){return{include_utensils:!1,modal_paymentlist:!1,payment_credentials:[],payment_uuid:"",payload:["items","merchant_info","service_fee","delivery_fee","packaging","tax","tips","checkout","discount","distance_local","summary","subtotal","total","items_count","check_opening","transaction_info","card_fee","points","points_discount"],loading:!1,loading_promo_rm:!1,loading_tip_rm:!1,tips_list:[],payment_change:0,wallet_data:[]}},created(){this.CartStore.getCart(!0,this.payload);const t=d.getStorage("include_utensils");d.empty(t)||(this.include_utensils=t),this.DeliveryschedStore.getDeliverySched(d.getStorage("cart_uuid"),d.getStorage("merchant_slug"))},mounted(){this.loadTips()},computed:{getUseCurrency(){return this.DataStorePersisted.getUseCurrency()},hasAddress(){return Object.keys(this.CartStore.address_component).length>0},getMerchantUUID(){return Object.keys(this.CartStore.cart_merchant).length>0?this.CartStore.cart_merchant.merchant_uuid:!1}},methods:{refresh(t){this.CartStore.getCart(!0,this.payload),setTimeout(()=>{t()},1e3)},setUtensil(t){d.setStorage("include_utensils",t)},afterSetplaceid(){console.log("afterSetplaceid"),this.CartStore.getCart(!1,this.payload)},fillAddress(t){this.$refs.client_address.showModal(!1),this.$refs.address_details.location_data=t,this.$refs.address_details.showModal()},afterSaveaddress(){this.CartStore.getCart(!1,this.payload)},afterSavetrans(){this.afterSaveaddress()},afterChangephone(t){this.CartStore.getCart(!1,this.payload)},afterApplypromo(){this.CartStore.getCart(!1,this.payload)},afterRemovepromo(){this.CartStore.getCart(!1,this.payload)},afterApplytips(){console.log("afterApplytips"),this.CartStore.getCart(!1,this.payload)},setPaymentcredentials(t){console.log("setPaymentcredentials"),this.payment_credentials=t},afterLoadpaymentlist(t){t?this.payment_credentials=t:this.payment_credentials=[]},setPaymentuuid(t){this.payment_uuid=t},setPayment(t){},setDefault(t){d.showLoadingBox("",this.$q),d.setDefaultPayment(t).then(s=>{this.CartStore.getCart(!1,this.payload)}).catch(s=>{d.notify("red-5",s,"error_outline",this.$q)}).then(s=>{d.hideLoadingBox(this.$q)})},onchoosePayment(t){try{this.$refs[t.payment_code].showPaymentForm()}catch(s){d.notify("dark",s,"error",this.$q)}},afterAddpayment(){this.modal_paymentlist=!1},afterPayment(t){this.CartStore.getCart(!0,this.payload),this.$router.push({path:"/order/successful",query:{order_uuid:t.order_uuid}})},onPlaceorder(){const t={cart_uuid:d.getStorage("cart_uuid"),local_id:d.getStorage("place_id"),include_utensils:this.include_utensils,payment_uuid:this.payment_uuid,currency_code:this.DataStorePersisted.getUseCurrency(),payment_change:this.payment_change,guest_number:this.$refs.checkout_booking?this.$refs.checkout_booking.guest_number:"",room_uuid:this.$refs.checkout_booking?this.$refs.checkout_booking.room_uuid:"",table_uuid:this.$refs.checkout_booking?this.$refs.checkout_booking.table_uuid:"",use_digital_wallet:this.$refs.digital_wallet?this.$refs.digital_wallet.use_wallet:""};this.loading=!0,d.PlaceOrder(t).then(s=>{s.details.payment_instructions.method==="offline"?(this.CartStore.getCart(!0,this.payload),this.$router.replace({path:"/order/successful",query:{order_uuid:s.details.order_uuid}})):this.doPayment(s.details)}).catch(s=>{d.notify("dark",s,"error",this.$q)}).then(s=>{this.loading=!1})},doPayment(t){console.log(t.payment_code),this.$refs[t.payment_code].PaymentRender(t)},transactionText(t){if(t==="delivery")return"Delivery to";if(t==="pickup")return"Pickup to";if(t==="dinein")return"Go to"},removePromo(t,s){this.loading_promo_rm=!0;const b={cart_uuid:d.getStorage("cart_uuid"),promo_id:s.promo_id,promo_type:s.promo_type};d.removePromo(b).then(e=>{this.PromoStore.promo_selected[t]=[],this.CartStore.getCart(!1,this.payload)}).catch(e=>{d.notify("dark",e,"error",this.$q)}).then(e=>{this.loading_promo_rm=!1})},removeTips(){this.loading_tip_rm=!0,d.fetchDataPost("removeTips","cart_uuid="+d.getStorage("cart_uuid")).then(t=>{this.CartStore.getCart(!1,this.payload)}).catch(t=>{}).then(t=>{this.loading_tip_rm=!1})},loadTips(){d.fetchDataPost("loadTips","cart_uuid="+d.getStorage("cart_uuid")+"&currency_code="+this.DataStorePersisted.getUseCurrency()).then(t=>{this.tips_list=t.details.data}).catch(t=>{}).then(t=>{})},afterApplypoints(){console.log("afterApplypoints"),this.CartStore.getCart(!1,this.payload)},afterRemoveitem(){console.log("afterRemoveitem"),this.$refs.cart_points.getCartpoints()},afterReceive(t){console.log("afterReceive"),console.log(t);let s=JSON.parse(t.message);console.log(s),d.fetchDataPost("validateCartItems","item_id="+s.item_id+"&cart_uuid="+d.getStorage("cart_uuid")).then(b=>{this.$q.dialog({title:this.$t("Items"),message:b.msg,persistent:!0}).onOk(()=>{this.CartStore.getCart(!0,this.payload)}).onCancel(()=>{}).onDismiss(()=>{})}).catch(b=>{}).then(b=>{})},afterApplywallet(t){this.wallet_data=t}}},ye={key:1,class:"text-center full-width"},ge={class:"text-h5 text-weight-bold"},Ce={class:"text-grey font12"},Se={class:"q-pl-md q-pr-md q-mb-sm"},ve={class:"text-h6 text-weight-boldx line-normal"},be={class:"row q-gutter-sm"},ke={class:"col-8"},Pe={class:"font13 text-weight-bold"},Ae=f(" , "),qe={class:"text-capitalize"},we={key:0,class:"font13 text-weight-light text-weight-medium"},De={key:1,class:"font13 text-weight-light"},Re={class:"font11 text-weight-light ellipsis"},xe={key:0,class:"q-pl-md q-pr-md"},Ie={class:"q-pl-md q-pr-md q-mb-sm ellipsis font13 text-weight-bold q-pt-xs"},ze={class:"text-capitalize"},Le={class:"row justify-end"},Qe={class:"q-pl-sm"},Ee={class:"q-pl-md q-pr-md q-mb-sm font13 text-weight-bold q-pt-xs"},Te={key:2,class:"q-pl-md q-pr-md row q-gutter-sm items-center"},Ve={class:"col-2"},Oe={class:"col"},Me={class:"col-3"},Ue={class:"q-pl-md q-pr-md q-mt-sm ellipsis font13 text-weight-bold q-pt-xs border-grey-top"},Be={key:5,class:"q-pl-md q-pr-md q-mb-sm q-pt-xs"},Fe={class:"row items-center q-mb-sm justify-between"},je={class:"font13 text-weight-bold"},Ne={key:6,class:"q-pl-md q-pr-md q-pt-xs border-grey-top"},We={class:"row items-center"},Ye={class:"q-mr-sm font12"},He={class:"font12 q-mt-xs"},Ge={class:"q-pl-md q-pr-md q-mt-sm q-pt-xs border-grey-top"},Je={class:"row items-center justify-between"},Xe={class:"font13 text-weight-bold"},Ke={class:"q-pl-md q-pr-md q-pt-xs"},Ze={class:"row items-center justify-between fit"},$e={class:"text-weight-bold font17"},et={key:0,class:"text-weight-bold font16"};function tt(t,s,b,e,C,l){const R=u("CheckoutBooking"),Q=u("CartDetails"),E=u("DIV"),T=u("PointsCart"),V=u("TipsList"),O=u("WalletComponents"),M=u("PaymentListSaved"),U=u("DeliverySched"),B=u("ChangePhone"),F=u("ClientAddress"),j=u("PromoList"),N=u("StripeComponents"),W=u("PaypalComponents"),Y=u("RazorpayComponents"),H=u("MercadopagoComponents"),G=u("ComponentsRealtime");return o(),c(S,null,[a(de,{onRefresh:l.refresh},{default:r(()=>[a(ne,{reveal:"","reveal-offset":"10",class:A({"bg-mydark text-white":t.$q.dark.mode,"bg-white text-black":!t.$q.dark.mode})},{default:r(()=>[a(oe,null,{default:r(()=>[a(v,{onClick:s[0]||(s[0]=h=>t.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",class:"q-mr-sm",color:t.$q.dark.mode?"white":"dark"},null,8,["color"]),a(re,{class:"text-weight-bold"},{default:r(()=>[f(n(t.$t("Order Confirmation")),1)]),_:1})]),_:1})]),_:1},8,["class"]),a(ie,{class:A({"flex flex-center":!e.CartStore.hasItem&&!e.CartStore.cart_loading})},{default:r(()=>[e.CartStore.cart_loading?(o(),m(z,{key:0,showing:!0,color:"primary",size:"md","label-class":"dark"})):!e.CartStore.hasItem&&!e.CartStore.cart_loading?(o(),c("div",ye,[a(L,{src:"cart-empty.png",fit:"fill","spinner-color":"primary",style:{height:"80px","max-width":"80px"}}),i("div",ge,n(t.$t("Your cart is empty")),1),i("p",Ce,n(t.$t("You don't have any orders here! let's change that!")),1)])):(o(),c(S,{key:2},[i("div",Se,[a(v,{"no-caps":"",unelevated:"",flat:"",class:"q-pa-none",to:{name:"menu",params:{slug:e.CartStore.cart_merchant.slug}}},{default:r(()=>[i("div",ve,n(e.CartStore.cart_merchant.restaurant_name),1),a(k,{name:"las la-angle-right",color:"grey",size:"15px"})]),_:1},8,["to"]),i("div",be,[a(L,{src:e.CartStore.cart_merchant.logo,lazy:"",fit:"cover",style:{height:"70px",width:"70px"},class:"radius8","spinner-color":"amber","spinner-size":"sm"},null,8,["src"]),i("div",ke,[i("div",Pe,[e.CartStore.data_transaction[e.CartStore.transaction_info.transaction_type]?(o(),c(S,{key:0},[f(n(e.CartStore.data_transaction[e.CartStore.transaction_info.transaction_type].service_name),1)],64)):(o(),c(S,{key:1},[f(n(e.CartStore.transaction_info.transaction_type),1)],64)),Ae,i("span",qe,n(e.CartStore.transaction_info.whento_deliver)+",",1)]),e.CartStore.transaction_info.whento_deliver=="schedule"?(o(),c("div",we,n(e.CartStore.transaction_info.delivery_date_pretty)+" "+n(e.CartStore.transaction_info.delivery_time.pretty_time),1)):(o(),c("div",De,[e.CartStore.data_transaction[e.CartStore.transaction_info.transaction_type]?(o(),c(S,{key:0},[f(n(e.CartStore.data_transaction[e.CartStore.transaction_info.transaction_type].service_name)+" "+n(t.$t("in"))+" "+n(e.CartStore.transaction_info.estimation)+", "+n(t.$t("mins")),1)],64)):_("",!0)])),i("div",Re,n(e.CartStore.cart_merchant.address),1),a(v,{flat:"",color:t.$q.dark.mode?"secondary":"blue","no-caps":"",label:t.$t("Change order settings"),dense:"",size:"md",class:"q-pt-none",onClick:s[1]||(s[1]=h=>this.$refs.delivery_sched.showSched(!0))},null,8,["color","label"])])])]),!e.CartStore.canProceed&&!e.CartStore.cart_loading?(o(),c("div",xe,[i("div",{class:A(["q-pa-md radius8 font12",{"bg-grey600 text-grey300":t.$q.dark.mode,"bg-yellow text-dark":!t.$q.dark.mode}]),style:{bottom:"51px"}},n(e.CartStore.getErrorMsg),3)])):_("",!0),i("div",Ie,[i("span",ze,n(e.CartStore.transaction_info.transaction_type),1),f(" "+n(t.$t("Details")),1)]),a(D,{dense:""},{default:r(()=>[a(P,null,{default:r(()=>[a(p,{avatar:""},{default:r(()=>[a(q,{color:"secondary",size:"md","text-color":"white"},{default:r(()=>[a(k,{name:"las la-phone",size:"23px"})]),_:1})]),_:1}),a(p,null,{default:r(()=>[e.CartStore.phone_details.default_prefix?(o(),c(S,{key:0},[f(" ("+n(e.CartStore.phone_details.default_prefix)+") ",1)],64)):_("",!0),f(" "+n(e.CartStore.phone_details.contact_number),1)]),_:1}),a(p,{side:""},{default:r(()=>[a(v,{onClick:s[2]||(s[2]=h=>this.$refs.change_phone.showModal(!0)),flat:"",color:t.$q.dark.mode?"secondary":"blue","no-caps":"",label:t.$t("Change"),dense:"",size:"md"},null,8,["color","label"])]),_:1})]),_:1}),e.CartStore.transaction_info.transaction_type=="delivery"?(o(),m(P,{key:0},{default:r(()=>[a(p,{avatar:""},{default:r(()=>[a(q,{color:"secondary",size:"md","text-color":"white"},{default:r(()=>[a(k,{name:"las la-map-marker-alt",size:"23px"})]),_:1})]),_:1}),a(p,null,{default:r(()=>[a(w,{lines:"2"},{default:r(()=>[l.hasAddress?(o(),c(S,{key:1},[f(n(e.CartStore.address_component.formatted_address),1)],64)):(o(),c(S,{key:0},[f(n(t.$t("Select your address")),1)],64))]),_:1})]),_:1}),a(p,{side:""},{default:r(()=>[a(v,{flat:"",color:t.$q.dark.mode?"secondary":"blue","no-caps":"",label:t.$t("Change"),dense:"",size:"md",onClick:s[3]||(s[3]=h=>this.$refs.client_address.showModal(!0))},null,8,["color","label"])]),_:1})]),_:1})):(o(),m(P,{key:1},{default:r(()=>[a(p,{avatar:""},{default:r(()=>[a(q,{color:"secondary",size:"md","text-color":"white"},{default:r(()=>[a(k,{name:"las la-utensils",size:"23px"})]),_:1})]),_:1}),a(p,null,{default:r(()=>[a(w,{lines:"2"},{default:r(()=>[f(n(e.CartStore.cart_merchant.address),1)]),_:1})]),_:1}),a(p,{side:""},{default:r(()=>[e.CartStore.transaction_info.transaction_type=="delivery"?(o(),m(v,{key:0,flat:"",color:t.$q.dark.mode?"secondary":"blue","no-caps":"",label:t.$t("Change"),dense:"",size:"md"},null,8,["color","label"])):_("",!0)]),_:1})]),_:1})),e.DataStore.enabled_include_utensils?(o(),m(P,{key:2},{default:r(()=>[a(p,{avatar:""},{default:r(()=>[a(q,{color:"secondary",size:"md","text-color":"white"},{default:r(()=>[a(k,{name:"las la-utensils",size:"23px"})]),_:1})]),_:1}),a(p,null,{default:r(()=>[a(w,null,{default:r(()=>[f(n(t.$t("Cutlery")),1)]),_:1}),a(w,{caption:""},{default:r(()=>[f(n(t.$t("Include utensils, napkins, etc.")),1)]),_:1})]),_:1}),a(p,{side:""},{default:r(()=>[a(te,{modelValue:C.include_utensils,"onUpdate:modelValue":[s[4]||(s[4]=h=>C.include_utensils=h),l.setUtensil]},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})):_("",!0)]),_:1}),e.CartStore.transaction_info.transaction_type=="dinein"?(o(),m(R,{key:1,ref:"checkout_booking",transaction_type:e.CartStore.transaction_info.transaction_type},null,8,["transaction_type"])):_("",!0),a(D,{bordered:""},{default:r(()=>[a(se,{"expand-separator":"",label:t.$t("Order Details"),class:"text-weight-boldx",caption:e.CartStore.items_count>0?`${e.CartStore.items_count} `+t.$t("Items"):`${e.CartStore.items_count} `+t.$t("item")},{default:r(()=>[a(Q,{ref:"cart_details",is_checkout:!1,payload:C.payload,onAfterRemoveitem:l.afterRemoveitem},null,8,["payload","onAfterRemoveitem"]),e.CartStore.hasItem?(o(),m(E,{key:0,class:"q-pl-md q-pr-md border-grey-top"},{default:r(()=>[i("div",Le,[a(v,{unelevated:"",color:t.$q.dark.mode?"grey600":"mygrey","text-color":t.$q.dark.mode?"grey300":"dark","no-caps":"",size:"md",class:"radius8 q-mt-sm q-mb-md",to:{name:"menu",params:{slug:e.CartStore.cart_merchant.slug}}},{default:r(()=>[a(k,{name:"las la-plus",size:"15px"}),i("div",Qe,n(t.$t("Add more items")),1)]),_:1},8,["color","text-color","to"])])]),_:1})):_("",!0)]),_:1},8,["label","caption"])]),_:1}),i("div",Ee,n(t.$t("Discount")),1),e.PromoStore.loading?(o(),c("div",Te,[i("div",Ve,[a(x,{type:"QCheckbox"})]),i("div",Oe,[a(x,{type:"rect"})]),i("div",Me,[a(x,{type:"rect"})])])):(o(),m(D,{key:3,class:"q-mb-sm"},{default:r(()=>[a(P,null,{default:r(()=>[a(p,{avatar:""},{default:r(()=>[a(q,{color:"secondary",size:"md","text-color":"white"},{default:r(()=>[a(k,{name:"local_offer",size:"21px"})]),_:1})]),_:1}),a(p,null,{default:r(()=>[e.PromoStore.promo_selected[e.CartStore.cart_merchant.merchant_id]&&e.PromoStore.promo_selected[e.CartStore.cart_merchant.merchant_id].promo_id?(o(),c("span",{key:0,class:A(["",{"text-grey300":t.$q.dark.mode,"text-grey-8":!t.$q.dark.mode}])},n(e.PromoStore.promo_selected[e.CartStore.cart_merchant.merchant_id].savings),3)):(o(),c(S,{key:1},[f(n(t.$t("Add a promo")),1)],64))]),_:1}),a(p,{side:""},{default:r(()=>[e.PromoStore.promo_selected[e.CartStore.cart_merchant.merchant_id]&&e.PromoStore.promo_selected[e.CartStore.cart_merchant.merchant_id].promo_id?(o(),m(v,{key:0,onClick:s[5]||(s[5]=h=>l.removePromo(e.CartStore.cart_merchant.merchant_id,e.PromoStore.promo_selected[e.CartStore.cart_merchant.merchant_id])),loading:C.loading_promo_rm,flat:"",color:t.$q.dark.mode?"secondary":"blue","no-caps":"",label:"Remove",dense:"",size:"md"},null,8,["loading","color"])):(o(),m(v,{key:1,onClick:s[6]||(s[6]=h=>this.$refs.promo_list.showModal(!0)),flat:"",color:t.$q.dark.mode?"secondary":"blue","no-caps":"",label:t.$t("Add"),dense:"",size:"md"},null,8,["color","label"]))]),_:1})]),_:1})]),_:1})),e.DataStore.points_enabled&&e.CartStore.points_data.points_activated?(o(),m(T,{key:4,ref:"cart_points",currency_code:l.getUseCurrency,onAfterApplypoints:l.afterApplypoints,use_thresholds:e.DataStore.use_thresholds},null,8,["currency_code","onAfterApplypoints","use_thresholds"])):_("",!0),i("div",Ue,n(t.$t("Summary")),1),a(D,{dense:"",class:"text-grey qlist-min-height text-weight-medium"},{default:r(()=>[(o(!0),c(S,null,I(e.CartStore.cart_summary,h=>(o(),c(S,{key:h},[h.type=="total"?(o(),m(P,{key:0,class:"text-weight-bold font16 text-dark hidden"},{default:r(()=>[a(p,null,{default:r(()=>[f(n(h.name),1)]),_:2},1024),a(p,{side:""},{default:r(()=>[f(n(h.value),1)]),_:2},1024)]),_:2},1024)):(o(),m(P,{key:1},{default:r(()=>[a(p,null,{default:r(()=>[f(n(h.name),1)]),_:2},1024),a(p,{side:""},{default:r(()=>[f(n(h.value),1)]),_:2},1024)]),_:2},1024))],64))),128))]),_:1}),e.DataStore.tips_data&&!e.CartStore.cart_loading&&e.CartStore.enabled_tip==1?(o(),c("div",Be,[i("div",Fe,[i("div",je,n(t.$t("Tips")),1),e.CartStore.tips_data.tips>0?(o(),m(v,{key:0,flat:"",color:t.$q.dark.mode?"secondary":"blue","no-caps":"",label:t.$t("Remove tips"),dense:"",size:"md",onClick:l.removeTips,loading:C.loading_tip_rm},null,8,["color","label","onClick","loading"])):_("",!0)]),e.CartStore.enabled_tip==1?(o(),m(V,{key:0,ref:"tips",onAfterApplytips:l.afterApplytips,tips_data:C.tips_list,tips_value:e.CartStore.tips_data},null,8,["onAfterApplytips","tips_data","tips_value"])):_("",!0)])):_("",!0),!e.CartStore.cart_loading&&e.CartStore.points_data.points_enabled&&e.CartStore.points_data.points_activated&&e.CartStore.points_data.points_to_earn>0?(o(),c("div",Ne,[i("div",We,[i("div",Ye,[a(k,{name:"card_giftcard",class:"font16 text-primary"})]),i("div",null,[i("div",He,n(e.CartStore.points_data.points_label),1)])])])):_("",!0),i("div",Ge,[i("div",Je,[i("div",Xe,n(t.$t("Payment")),1),a(v,{flat:"",color:t.$q.dark.mode?"secondary":"blue","no-caps":"",label:t.$t("Add"),dense:"",size:"md",to:"/account/payments/new?redirect=/checkout"},null,8,["color","label"])])]),e.DataStore.digitalwallet_enabled?(o(),m(O,{key:7,ref:"digital_wallet",cart_updated:e.CartStore.cart_reloading,onAfterApplywallet:l.afterApplywallet},null,8,["cart_updated","onAfterApplywallet"])):_("",!0),e.CartStore.cart_merchant.merchant_id?(o(),m(M,{key:8,ref:"saved_payment",onSetPaymentuuid:l.setPaymentuuid,onSetPayment:l.setPayment,onAfterLoadpaymentlist:l.afterLoadpaymentlist,merchant_id:e.CartStore.cart_merchant.merchant_id,wallet_data:C.wallet_data},null,8,["onSetPaymentuuid","onSetPayment","onAfterLoadpaymentlist","merchant_id","wallet_data"])):_("",!0),i("div",Ke,[(o(!0),c(S,null,I(e.PaymentStore.getPaymentList,h=>(o(),c(S,{key:h},[h.payment_uuid==C.payment_uuid&&h.attr_required==1?(o(),m(ae,{key:0,modelValue:C.payment_change,"onUpdate:modelValue":s[7]||(s[7]=J=>C.payment_change=J),type:"number",label:t.$t("Change for how much?"),outlined:"","bg-color":t.$q.dark.mode?"grey600":"input","label-color":t.$q.dark.mode?"grey300":"grey",borderless:"",class:"input-borderless"},null,8,["modelValue","label","bg-color","label-color"])):_("",!0)],64))),128))]),a(le,{class:"q-pa-md"})],64))]),_:1},8,["class"])]),_:1},8,["onRefresh"]),a(z,{showing:e.CartStore.cart_reloading,color:"primary",size:"md","label-class":"dark"},null,8,["showing"]),e.CartStore.items_count>0&&!e.CartStore.cart_loading?(o(),m(ce,{key:0,reveal:"",class:A(["q-pl-md q-pr-md q-pb-sm q-pt-sm text-dark",{"bg-primary":!e.CartStore.cart_reloading,"bg-grey-5":e.CartStore.cart_reloading}])},{default:r(()=>[a(v,{onClick:l.onPlaceorder,loading:C.loading,disable:!e.CartStore.canProceed,unelevated:"","text-color":"white","no-caps":"",class:"radius10 fit",color:{primary:!e.CartStore.cart_reloading,"grey-5":e.CartStore.cart_reloading}},{default:r(()=>[i("div",Ze,[i("div",$e,n(t.$t("Place Order")),1),e.CartStore.cart_total?(o(),c("div",et,n(e.CartStore.cart_total.value),1)):_("",!0)])]),_:1},8,["onClick","loading","disable","color"])]),_:1},8,["class"])):_("",!0),a(U,{ref:"delivery_sched",slug:e.CartStore.cart_merchant.slug,onAfterSavetrans:l.afterSavetrans},null,8,["slug","onAfterSavetrans"]),a(B,{ref:"change_phone",onAfterChangephone:l.afterChangephone,prefixes:e.DataStore.phone_prefix_data,phone_prefix_orig:e.CartStore.phone_details.default_prefix,contact_number_orig:e.CartStore.phone_details.contact_number},null,8,["onAfterChangephone","prefixes","phone_prefix_orig","contact_number_orig"]),a(F,{ref:"client_address",redirect:this.$route.path,onAfterSetplaceid:l.afterSetplaceid,onFillAddress:l.fillAddress},null,8,["redirect","onAfterSetplaceid","onFillAddress"]),e.CartStore.cart_merchant.merchant_id?(o(),m(j,{key:1,ref:"promo_list",enabled_voucher:e.CartStore.enabled_voucher,onAfterApplypromo:l.afterApplypromo,onAfterRemovepromo:l.afterRemovepromo,merchant_id:e.CartStore.cart_merchant.merchant_id},null,8,["enabled_voucher","onAfterApplypromo","onAfterRemovepromo","merchant_id"])):_("",!0),a(N,{ref:"stripe",payment_code:"stripe",title:"Add Stripe",label:{submit:this.$t("Add Stripe"),notes:this.$t("Add your card account")},payment_credentials:e.PaymentStore.credentials[e.CartStore.cart_merchant.merchant_id],onAfterAddpayment:l.afterAddpayment,onAfterPayment:l.afterPayment},null,8,["label","payment_credentials","onAfterAddpayment","onAfterPayment"]),a(W,{ref:"paypal",payment_code:"paypal",title:"Add Paypal",label:{submit:this.$t("Add Paypal"),notes:this.$t("Pay using your paypal account"),payment_title:this.$t("Pay using Paypal"),payment_subtitle:this.$t("You will re-direct to paypal account to login to your account.")},payment_credentials:e.PaymentStore.credentials[e.CartStore.cart_merchant.merchant_id],onAfterAddpayment:l.afterAddpayment,onAfterPayment:l.afterPayment},null,8,["label","payment_credentials","onAfterAddpayment","onAfterPayment"]),a(Y,{ref:"razorpay",payment_code:"razorpay",title:"Add Razorpay",label:{submit:this.$t("Submit"),notes:this.$t("Pay using your Razorpay account")},payment_credentials:e.PaymentStore.credentials[e.CartStore.cart_merchant.merchant_id],onAfterAddpayment:l.afterAddpayment,onAfterPayment:l.afterPayment},null,8,["label","payment_credentials","onAfterAddpayment","onAfterPayment"]),a(H,{ref:"mercadopago",payment_code:"mercadopago",title:"Add Mercadopago",label:{submit:this.$t("Add Mercadopago"),submit_form:this.$t("Submit"),notes:this.$t("Pay using your mercadopago account")},payment_credentials:e.PaymentStore.credentials[e.CartStore.cart_merchant.merchant_id],onAfterAddpayment:l.afterAddpayment,onAfterPayment:l.afterPayment},null,8,["label","payment_credentials","onAfterAddpayment","onAfterPayment"]),l.getMerchantUUID?(o(),m(G,{key:2,ref:"realtime",getevent:"cart",subscribe_to:l.getMerchantUUID,onAfterReceive:l.afterReceive},null,8,["subscribe_to","onAfterReceive"])):_("",!0)],64)}var At=Z(ue,[["render",tt]]);export{At as default};
